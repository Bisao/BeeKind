
:root{
  --main-blue: #071B87;
  --bg-gradient: linear-gradient(180deg, var(--main-blue), #030d45);
  --card-opacity: 0.85;
  --card: linear-gradient(145deg, rgba(7, 27, 135, var(--card-opacity)), rgba(3, 13, 69, 0.9));
  --accent:#ffcc00; 
  --dark:#ffffff;
  --text-color: #ffffff; 
  --shadow:0 10px 30px rgba(0,0,0,0.3);
  --xp-bar:#4caf50;
  --common: #b2bec3; 
  --rare: #0984e3; 
  --epic: #a29bfe;
  --panel-blur: blur(15px);
}

*{ 
    box-sizing:border-box; 
    user-select:none; 
    -webkit-tap-highlight-color:transparent; 
    touch-action: manipulation; 
}

body, html {
  margin:0; padding: 0; width: 100%; height: 100%;
  font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  background: var(--bg-gradient);
  background-attachment: fixed;
  overflow: hidden;
  color: var(--text-color);
  transition: background 0.3s ease, color 0.3s ease;
  touch-action: none;
}

body { display: flex; align-items: center; justify-content: center; min-height: 100svh; }

.bee-img {
    width: 90px;
    height: 90px;
    object-fit: contain;
}
.bee-img-large {
    width: 140px;
    height: 140px;
    object-fit: contain;
    filter: drop-shadow(0 10px 15px rgba(0,0,0,0.4));
}

.skin-preview {
    width: 40px;
    height: 40px;
    object-fit: contain;
    margin-bottom: 5px;
}

/* TELA DE LOADING */
#loadingScreen {
    position: fixed; inset: 0; background: var(--bg-gradient);
    z-index: 20000; display: none; flex-direction: column; align-items: center; justify-content: center;
}
.loading-container { width: 80%; max-width: 300px; position: relative; }
.loading-bar-bg { width: 100%; height: 10px; background: rgba(0,0,0,0.3); border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); overflow: visible; position: relative; }
.loading-bar-fill { height: 100%; background: var(--accent); width: 0%; border-radius: 10px; transition: width 0.1s linear; }
.loading-bee { 
    position: absolute; top: -45px; left: 0%; 
    width: 40px; height: 40px; 
    transform: translateX(-50%); 
    transition: left 0.1s linear;
    filter: drop-shadow(0 4px 5px rgba(0,0,0,0.3));
}
.loading-text { margin-top: 15px; font-weight: 900; font-size: 14px; letter-spacing: 2px; color: var(--accent); text-align: center; width: 100%; }
.rotating-cookie { 
    position: absolute; bottom: 30px; right: 30px; 
    font-size: 40px; animation: spinCookie 3s linear infinite; 
    filter: drop-shadow(0 5px 10px rgba(0,0,0,0.5));
}
@keyframes spinCookie { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* DESIGN PROFISSIONAL TELA INICIAL */
#startScreen {
    position: fixed; inset: 0; background: var(--bg-gradient);
    z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center;
    transition: opacity 0.5s ease;
    overflow: hidden;
}

.bg-clouds {
    position: absolute;
    width: 200%;
    height: 100%;
    background: url('https://www.transparenttextures.com/patterns/clouds.png');
    opacity: 0.1;
    animation: moveClouds 60s linear infinite;
    pointer-events: none;
}
@keyframes moveClouds { from { transform: translateX(0); } to { transform: translateX(-50%); } }

.studio-brand {
    position: absolute;
    bottom: 25px;
    font-size: 12px;
    font-weight: 800;
    letter-spacing: 2px;
    opacity: 0.6;
    z-index: 5;
    color: var(--text-color);
    text-transform: uppercase;
}

.snow-container { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100vw; 
    height: 100vh; 
    pointer-events: none; 
    z-index: 1; 
}
.snowflake { position: absolute; color: white; font-size: 1.2em; top: -20px; animation: fall linear forwards; }
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

.start-bee-wrapper { 
    position: relative; 
    z-index: 2; 
    margin-bottom: 10px;
    filter: drop-shadow(0 20px 30px rgba(0,0,0,0.5));
}
.start-logo { animation: floatBee 4s infinite ease-in-out; }

.start-title { 
    font-size: clamp(34px, 14vw, 54px); 
    font-weight: 900; 
    color: var(--text-color); 
    margin-top: 10px; 
    letter-spacing: -1px;
    text-shadow: 0 10px 20px rgba(0,0,0,0.4); 
    z-index: 2;
    display: flex; 
    align-items: center; 
    justify-content: center;
}

.start-subtitle {
    font-size: 13px;
    font-weight: 600;
    color: var(--accent);
    margin-bottom: 40px;
    letter-spacing: 1px;
    text-transform: uppercase;
    opacity: 0.9;
    text-shadow: 0 2px 10px rgba(0,0,0,0.5);
    z-index: 2;
}

.btn-play-premium {
    width: 100%;
    padding: 20px !important;
    font-size: 20px !important;
    background: linear-gradient(135deg, var(--accent), #ffaa00) !important;
    color: var(--main-blue) !important;
    border-radius: 24px !important;
    box-shadow: 0 10px 25px rgba(255, 204, 0, 0.3), inset 0 -4px 0 rgba(0,0,0,0.2) !important;
    border: none !important;
    transition: 0.2s !important;
}
.btn-play-premium:active { transform: scale(0.96) translateY(4px) !important; box-shadow: 0 5px 10px rgba(255, 204, 0, 0.2) !important; }

.btn-secondary-glass {
    background: rgba(255, 255, 255, 0.08) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: white !important;
    box-shadow: none !important;
    font-size: 13px !important;
    font-weight: 700 !important;
    position: relative;
    border-radius: 18px !important;
}

.btn-chromatic-pulse {
    position: relative;
    overflow: visible !important;
    border: none !important;
}

.btn-chromatic-pulse::before {
    content: "";
    position: absolute;
    top: -4px; left: -4px; right: -4px; bottom: -4px;
    background: linear-gradient(90deg, #ff0000, #ffcc00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
    background-size: 400% 400%;
    border-radius: 22px;
    z-index: -1;
    animation: chromaticRotate 3s linear infinite, glowPulse 1.5s ease-in-out infinite;
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: destination-out;
    mask-composite: exclude;
    padding: 3px;
}

@keyframes chromaticRotate { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
@keyframes glowPulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }

.letter-i-wrapper { position: relative; display: inline-flex; justify-content: center; color: inherit; }
.tree-overlay {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -58%);
    font-size: 1.1em; pointer-events: none;
}

.pwa-btn-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    width: 100%;
    z-index: 10;
    margin-top: 5px;
}

.circular-btn {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    border: 2px solid rgba(255,255,255,0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 22px;
    transition: 0.3s;
    position: relative;
    padding: 0;
}

.circular-btn:active { transform: scale(0.9); }

.aura-pulse::after {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: 50%;
    border: 3px solid var(--accent);
    animation: auraEffect 1.5s infinite;
}

@keyframes auraEffect {
    0% { transform: scale(1); opacity: 1; border-color: var(--accent); }
    100% { transform: scale(1.5); opacity: 0; border-color: #00ff00; }
}

.game{ width:100%; max-width:420px; height: 100vh; padding:14px; position: relative; display: flex; flex-direction: column; opacity: 0; transition: opacity 0.5s; z-index: 10; display: none; }

.card { 
    background: var(--card); 
    backdrop-filter: var(--panel-blur);
    -webkit-backdrop-filter: var(--panel-blur);
    border-radius: 26px; 
    padding: 20px; 
    box-shadow: var(--shadow); 
    text-align: center; 
    position: relative; 
    margin-bottom: 12px; 
    border: 1px solid rgba(255,255,255,0.15); 
    transition: transform 0.1s, background 0.3s; 
}

.lvl-up-flash {
    animation: lvlUpFlash 1s ease-out forwards;
}
@keyframes lvlUpFlash {
    0% { transform: scale(1); box-shadow: var(--shadow); border-color: white; }
    50% { transform: scale(1.05); box-shadow: 0 0 30px var(--accent); border-color: var(--accent); }
    100% { transform: scale(1); box-shadow: var(--shadow); border-color: rgba(255,255,255,0.15); }
}

.notif-card { 
    height: 55px; 
    display: flex; 
    align-items: center; 
    padding: 0 15px; 
    overflow: hidden; 
    flex-shrink: 0; 
    gap: 10px;
    margin-bottom: 10px;
}
#notifContainer { flex: 1; height: 100%; position: relative; display: flex; align-items: center; justify-content: center; color: inherit; }
.notif-static-icon { font-size: 20px; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.3)); }

.save-icon { position: absolute; left: 18px; top: 22px; font-size: 18px; opacity: 0; transition: 0.3s; z-index: 10; }
.save-icon.visible { opacity: 1; animation: pulseSave 1s ease-out; }
@keyframes pulseSave { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }

.settings-gear, .daily-mission-btn, .daily-reward-btn { position: absolute; top: 18px; cursor: pointer; transition: transform 0.3s ease; z-index: 10; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); }
.settings-gear { right: 18px; font-size: 24px; }
.daily-mission-btn { right: 55px; font-size: 24px; border-radius: 50%; padding: 2px; }

.mission-alert {
    animation: alertPulse 1.5s infinite;
    background: var(--xp-bar) !important;
}
@keyframes alertPulse {
    0% { transform: scale(1); box-shadow: 0 0 0 rgba(76, 175, 80, 0); }
    50% { transform: scale(1.1); box-shadow: 0 0 15px var(--xp-bar); }
    100% { transform: scale(1); box-shadow: 0 0 0 rgba(76, 175, 80, 0); }
}

.daily-reward-btn { right: 92px; font-size: 24px; border-radius: 50%; padding: 2px; }

.level-container { margin-top: 12px; text-align: left; }
.level-info { display: flex; justify-content: space-between; font-weight: bold; font-size: 13px; margin-bottom: 6px; color: inherit; }
.xp-bg { width: 100%; height: 12px; background: rgba(0,0,0,0.1); border-radius: 12px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); }
.xp-fill { height: 100%; background: var(--xp-bar); width: 0%; transition: width 0.5s; }
.stats{ margin-top:8px; font-size:18px; font-weight: 800; color: var(--accent); }

.click-zone { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    width: 100%; 
    height: 160px; 
    position: relative; 
    touch-action: none; 
    border-radius: 20px; 
    overflow: hidden; 
    background-size: cover; 
    background-position: center; 
    transition: background 0.3s ease; 
}

.aura-wrapper { 
    position: relative; 
    width: 140px; 
    height: 140px; 
    display: flex; 
    justify-content: center; 
    align-items: center;
    overflow: visible; 
}

.bee-container { position: relative; z-index: 2; animation: floatBee 3s infinite ease-in-out; cursor: pointer; transition: transform 0.05s; }

.crown-overlay {
    position: absolute;
    top: -20px;
    font-size: 30px;
    z-index: 5;
    filter: drop-shadow(0 0 5px gold);
    display: none;
    pointer-events: none;
}

@keyframes floatBee { 0%, 100%{transform:translateY(0) rotate(0deg);} 50%{transform:translateY(-12px) rotate(3deg);} }
.target { height: 60px; width: 60px; border-radius: 20px; border: 3px dashed var(--accent); display: flex; align-items: center; justify-content: center; font-size: 24px; opacity: 0.7; background: rgba(255,255,255,0.1); backdrop-filter: blur(2px); transition: transform 0.1s; }

#active-boosts { position: absolute; top: 5px; width: 100%; display: flex; justify-content: center; gap: 8px; pointer-events: none; z-index: 5; flex-wrap: wrap; padding: 0 5px; }
.active-boost-timer { display: flex; align-items: center; gap: 4px; background: rgba(255,255,255,0.95); padding: 4px 8px; border-radius: 12px; border: 1.5px solid var(--accent); font-size: 10px; font-weight: 900; box-shadow: 0 4px 10px rgba(0,0,0,0.1); color: var(--main-blue); }
.active-boost-passive { border-color: #ffffff; background: rgba(255,255,255,0.8); }

.main-panel { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    overflow: hidden; 
    background: var(--card);
    backdrop-filter: var(--panel-blur);
    -webkit-backdrop-filter: var(--panel-blur);
    border-radius: 30px 30px 0 0; 
    margin: 0 -14px -14px -14px; 
    box-shadow: 0 -10px 30px rgba(0,0,0,0.4);
    border-top: 1px solid rgba(255,255,255,0.2);
    transition: background 0.3s ease;
}

.tabs-header { 
    display: flex; 
    background: rgba(0, 0, 0, 0.2); 
    border-bottom: 1px solid rgba(255,255,255,0.1); 
    flex-shrink: 0; 
}
.tab-btn { 
    flex: 1; 
    padding: 15px 5px; 
    border: none; 
    background: none; 
    font-weight: 800; 
    color: rgba(255,255,255,0.4); 
    cursor: pointer; 
    font-size: 20px; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    gap: 4px;
    transition: 0.3s;
    position: relative;
}

.tab-btn-games-highlight::after {
    content: '';
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 50px; height: 50px;
    border: 3px solid transparent;
    border-radius: 50%;
    background: linear-gradient(var(--card), var(--card)) padding-box,
                linear-gradient(90deg, #ff0000, #ffcc00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000) border-box;
    z-index: -1;
    animation: chromaticRotate 3s linear infinite, gamesPulse 2s ease-in-out infinite;
}

@keyframes gamesPulse { 0%, 100% { transform: translate(-50%, -50%) scale(0.9); opacity: 0.5; } 50% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; } }

.tab-btn span { font-size: 8px; text-transform: uppercase; letter-spacing: 0.5px; }
.tab-btn.active { color: var(--accent); border-bottom: 4px solid var(--accent); }
.tab-btn.active span { color: var(--text-color); }

.tabs-content { flex: 1; overflow: hidden; position: relative; }
.tab-pane { display: none; height: 100%; flex-direction: column; }
.tab-pane.active { display: flex; }

.scroll-area { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 40px; -webkit-overflow-scrolling: touch; touch-action: pan-y; }

.section-title { font-weight: 900; font-size: 14px; color: var(--accent); margin-bottom: 12px; margin-top: 10px; display: flex; align-items: center; gap: 8px; text-transform: uppercase; }
.section-title::after { content: ''; flex: 1; height: 1px; background: rgba(255,255,255,0.1); }

.fixed-nav-header { flex-shrink: 0; background: rgba(0,0,0,0.1); padding: 10px 15px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.shop-nav, .filter-bar { display: flex; gap: 8px; }
.sub-tab-btn, .filter-btn { flex: 1; padding: 10px; border-radius: 12px; border: none; background: rgba(255,255,255,0.1); font-size: 10px; font-weight: 800; cursor: pointer; transition: 0.2s; color: inherit; }
.sub-tab-btn.active, .filter-btn.active { background: var(--accent); color: var(--main-blue); }

.buy-btn-small { 
    padding: 12px 8px; 
    font-size: 11px; 
    min-height: 90px; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    background: rgba(255,255,255,0.05); 
    border-radius: 18px; 
    border: 1px solid rgba(255,255,255,0.1);
    color: inherit;
}
.buy-btn-small:not(:disabled):active { border-color: var(--accent); transform: scale(0.98); }

button{ width:100%; padding:15px; margin-top:8px; border:none; border-radius:18px; font-size:14px; font-weight:800; background:var(--accent); color: var(--main-blue); box-shadow:0 4px 0 rgba(0,0,0,0.3); cursor: pointer; transition: 0.1s; touch-action: manipulation; }
button:active{ transform:translateY(2px); box-shadow:0 2px 0 rgba(0,0,0,0.3); }
button:disabled { background:rgba(0,0,0,0.2) !important; color:rgba(255,255,255,0.2) !important; box-shadow: none !important; opacity: 0.5; border: 1px solid rgba(255,255,255,0.05); }

.config-group-card {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 20px;
    padding: 15px;
    margin-bottom: 15px;
}
.config-row { display: flex; flex-direction: column; gap: 8px; margin-bottom: 15px; text-align: left; }
.config-row:last-child { margin-bottom: 0; }
.config-label { font-weight: 800; font-size: 13px; color: inherit; display: flex; justify-content: space-between; align-items: center; }
.config-label span:last-child { color: var(--accent); font-size: 12px; }

input[type="color"] { 
    border: 2px solid rgba(255,255,255,0.2); 
    width: 50px; height: 30px; 
    background: none; cursor: pointer; 
    border-radius: 8px;
    padding: 0;
}

input[type=range] { 
    -webkit-appearance: none;
    width: 100%;
    background: rgba(0,0,0,0.15);
    height: 6px;
    border-radius: 5px;
    outline: none;
    border: 1px solid rgba(255,255,255,0.1);
}
input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    background: var(--accent);
    cursor: pointer;
    border-radius: 50%;
    border: 2px solid var(--dark);
}

.modal{ position:fixed; inset:0; background:rgba(0,0,0,0.85); backdrop-filter: blur(12px); display:none; justify-content:center; align-items:center; z-index:10001; padding: 20px; transition: background 0.3s; }
.modal-box{ background: var(--card); backdrop-filter: var(--panel-blur); width:100%; max-width:380px; max-height: 85svh; border-radius:35px; overflow:hidden; box-shadow: 0 25px 60px rgba(0,0,0,0.8); border: 2px solid rgba(255,255,255,0.1); display: flex; flex-direction: column; transition: background 0.3s; }
.modal-header{ padding:20px; background: var(--accent); font-weight:900; display:flex; justify-content:space-between; color: var(--main-blue); font-size: 18px; flex-shrink: 0; }

.modal-content-scroll { flex: 1; overflow-y: auto; padding: 20px; -webkit-overflow-scrolling: touch; color: inherit; touch-action: pan-y; }
.modal-footer { padding: 0 20px 20px 20px; background: transparent; flex-shrink: 0; }

.game-card {
    display: flex;
    flex-direction: column;
    background: rgba(255,255,255,0.07);
    border-radius: 22px;
    margin-bottom: 15px;
    border: 1px solid rgba(255,255,255,0.1);
    overflow: hidden;
    transition: 0.3s;
}
.game-card:hover { background: rgba(255,255,255,0.12); }
.game-card-header {
    padding: 15px;
    display: flex;
    align-items: center;
    gap: 15px;
}
.game-icon {
    width: 60px; height: 60px;
    background: var(--card);
    border-radius: 15px;
    display: flex; align-items: center; justify-content: center;
    font-size: 30px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}
.game-meta { flex: 1; text-align: left; }
.game-title { font-weight: 900; font-size: 16px; color: inherit; }
.game-record { font-size: 11px; color: var(--accent); font-weight: 800; margin-top: 3px; }
.game-play-area {
    padding: 0 15px 15px 15px;
}

#minigameOverlay {
    position: fixed; inset: 0; 
    background: var(--bg-gradient);
    z-index: 20000;
    display: none; flex-direction: column; align-items: center; justify-content: center;
    backdrop-filter: blur(20px);
}
#snakeCanvas, #flightCanvas, #rainCanvas, #defenderCanvas { 
    background: #000; 
    border: 3px solid rgba(255,255,255,0.2); 
    border-radius: 20px; 
    box-shadow: 0 0 40px rgba(0,0,0,0.5);
    max-width: 95vw; 
    aspect-ratio: 1/1;
    display: none; 
}
.mg-header { 
    width: 100%; max-width: 400px; padding: 20px; 
    display: flex; justify-content: space-between; align-items: center; 
}
.mg-stats-panel { text-align: left; display: flex; align-items: center; gap: 15px; }
.mg-score-box { display: flex; flex-direction: column; }
.mg-label { font-size: 10px; text-transform: uppercase; opacity: 0.7; font-weight: 800; }
.mg-val { font-size: 24px; font-weight: 900; color: var(--accent); display: block; }

#mgLiveBoosts {
    display: flex;
    gap: 8px;
    background: rgba(255,255,255,0.1);
    padding: 5px 10px;
    border-radius: 15px;
    border: 1px solid rgba(255,255,255,0.1);
    height: 40px;
    align-items: center;
    min-width: 40px;
}
.mg-live-boost-icon { font-size: 20px; animation: popBoost 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
@keyframes popBoost { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }

.mg-controls { margin-top: 20px; display: grid; grid-template-areas: ". up ." "left down right"; gap: 15px; }
.dpad-btn { 
    width: 70px; height: 70px; 
    background: rgba(255,255,255,0.1); 
    border-radius: 20px; 
    display: flex; align-items: center; justify-content: center; 
    font-size: 28px; color: white; 
    border: 1px solid rgba(255,255,255,0.2); 
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
.dpad-btn:active { background: var(--accent); color: var(--main-blue); transform: scale(0.9); }

.fire-btn {
    width: 80px; height: 80px;
    background: #ff4757;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    border: 3px solid rgba(255,255,255,0.3);
    box-shadow: 0 6px 0 #c0392b;
}
.fire-btn:active { transform: translateY(4px); box-shadow: 0 2px 0 #c0392b; background: #ff6b81; }

#mgCountdown { position: absolute; font-size: 120px; color: var(--accent); font-weight: 900; text-shadow: 0 0 30px rgba(0,0,0,0.5); z-index: 20005; display: none; }
#mgResultScreen {
    position: absolute; inset: 0; background: rgba(0,0,0,0.9); z-index: 20110;
    display: none; flex-direction: column; align-items: center; justify-content: center; color: white; text-align: center; padding: 30px;
}

.changelog-block { margin-bottom: 25px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); }
.changelog-section-title { font-weight: 900; font-size: 15px; margin-bottom: 12px; color: var(--accent); border-bottom: 2px solid var(--accent); display: inline-block; padding-bottom: 2px; }
.changelog-item { display: flex; gap: 10px; margin-bottom: 8px; font-size: 13px; line-height: 1.4; color: inherit; opacity: 0.8; align-items: flex-start; }
.changelog-icon { font-size: 14px; flex-shrink: 0; margin-top: 1px; }

.popup { position: absolute; background: transparent; width: 100%; font-weight: 800; font-size: 11px; color: inherit; pointer-events: none; text-align: center; display: flex; align-items: center; justify-content: center; padding: 0 10px; opacity: 0; }
@keyframes slideInNotif { 0% { transform: translateY(40px); opacity: 0; } 10% { transform: translateY(0); opacity: 1; } 90% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-40px); opacity: 0; } }

.version-tag { color: inherit; opacity: 0.4; margin-top: 10px; font-weight: bold; font-size: 10px; text-align: center; width: 100%; letter-spacing: 1px; }

.mission-card { display: flex; align-items: center; padding: 14px; border-radius: 18px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); text-align: left; gap: 14px; margin-bottom: 10px; transition: 0.3s; position: relative; overflow: hidden; }
.mission-card.completed { border-color: var(--xp-bar); background: rgba(76, 175, 80, 0.1); }
.mission-card.collected { border-color: rgba(255,255,255,0.2); opacity: 0.6; }
.mission-card.completed:not(.collected)::after { content: 'CONCLU√çDO'; position: absolute; top: 8px; right: 8px; font-size: 8px; font-weight: 900; color: var(--xp-bar); background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 10px; }
.mission-card.collected::after { content: 'COLETADO'; position: absolute; top: 8px; right: 8px; font-size: 8px; font-weight: 900; color: inherit; background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 10px; }

.mission-reroll-btn { 
    position: absolute; bottom: 8px; right: 8px; 
    width: 32px; height: 32px; 
    background: rgba(255,255,255,0.1); 
    border: 1px solid rgba(255,255,255,0.2); 
    border-radius: 10px; 
    display: flex; align-items: center; justify-content: center; 
    font-size: 14px; cursor: pointer; transition: 0.2s; 
    z-index: 5;
}
.mission-reroll-btn:active { transform: scale(0.9) rotate(45deg); background: var(--accent); color: var(--main-blue); }

.mission-progress-bar { width: 100%; height: 8px; background: rgba(0,0,0,0.1); border-radius: 4px; margin-top: 8px; overflow: hidden; }
.mission-progress-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.3s; }
.mission-card.completed .mission-progress-fill { background: var(--xp-bar); }
.mission-reward-tag { display: inline-block; padding: 3px 8px; background: rgba(255, 204, 0, 0.2); color: var(--accent); font-size: 9px; font-weight: 900; border-radius: 6px; margin-top: 5px; }

.ach-card { display: flex; align-items: center; padding: 14px; border-radius: 20px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); text-align: left; gap: 14px; margin-bottom: 10px; transition: 0.3s; }
.ach-card.locked { opacity: 0.4; filter: grayscale(1); background: rgba(0,0,0,0.2); }
.ach-card.unlocked.rare { border-color: var(--rare); background: rgba(9, 132, 227, 0.15); }
.ach-card.unlocked.epic { border-color: var(--epic); background: rgba(162, 155, 254, 0.15); }

.floating-num-container {
    position: fixed;
    pointer-events: none;
    z-index: 10000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    animation: floatUp 0.8s ease-out forwards;
}

.floating-num {
    font-weight: 900;
    font-size: 24px;
    color: var(--accent);
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.super-critical-label {
    font-weight: 900;
    font-size: 14px;
    color: #ff4757;
    margin-top: -2px;
    text-shadow: 0 0 10px rgba(255,71,87,0.5);
}

@keyframes floatUp {
    0% { transform: translateY(0) scale(0.5); opacity: 0; }
    20% { opacity: 1; transform: translateY(-20px) scale(1.2); }
    100% { transform: translateY(-80px) scale(1); opacity: 0; }
}

.honey-particle {
    position: fixed;
    width: 8px;
    height: 8px;
    background: var(--accent);
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    animation: explode 0.5s ease-out forwards;
}
@keyframes explode {
    to { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
}

#downloadOverlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 100000;
    display: none; flex-direction: column; align-items: center; justify-content: center; padding: 30px; text-align: center;
}
.dl-step { margin-bottom: 20px; display: flex; align-items: center; gap: 15px; text-align: left; width: 100%; max-width: 300px; }
.dl-icon { width: 45px; height: 45px; background: var(--accent); color: var(--main-blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: 900; flex-shrink: 0; }

.daily-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 15px; }
.day-card { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 10px 5px; text-align: center; position: relative; }
.day-card.active { border-color: var(--accent); background: rgba(255,204,0,0.1); box-shadow: 0 0 10px rgba(255,204,0,0.3); }
.day-card.claimed { opacity: 0.5; filter: grayscale(1); border-color: var(--xp-bar); }
.day-num { font-size: 9px; font-weight: 900; opacity: 0.6; display: block; margin-bottom: 5px; }
.day-icon { font-size: 20px; display: block; }
.day-reward-val { font-size: 9px; font-weight: 800; color: var(--accent); }

.hangar-box {
    background: rgba(255,255,255,0.05);
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.1);
    padding: 15px;
    margin-bottom: 12px;
    position: relative;
    overflow: hidden;
}
.hangar-title {
    font-weight: 900;
    font-size: 11px;
    color: var(--accent);
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
}
.hangar-lock {
    height: 120px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
.expedition-timer { font-size: 22px; font-weight: 900; color: var(--accent); display: block; margin: 10px 0; }
.expedition-slider-box { margin-top: 15px; text-align: left; }
.expedition-slider-box label { font-size: 12px; font-weight: 800; opacity: 0.7; }

.biome-selector { display: flex; gap: 8px; margin-top: 15px; }
.biome-btn { 
    flex: 1; padding: 10px 5px; border-radius: 14px; border: 1px solid rgba(255,255,255,0.1); 
    background: rgba(255,255,255,0.05); color: inherit; font-size: 10px; font-weight: 800; 
    cursor: pointer; transition: 0.2s; display: flex; flex-direction: column; align-items: center; gap: 4px;
}
.biome-btn.selected { border-color: var(--accent); background: rgba(255,204,0,0.15); transform: translateY(-3px); }
.biome-icon { font-size: 20px; }

.exp-event-btn {
    width: 100%; padding: 12px; border-radius: 14px; margin-top: 10px; 
    font-weight: 900; font-size: 12px; text-transform: uppercase;
    animation: btnGlow 1s infinite alternate;
}
@keyframes btnGlow { from { box-shadow: 0 0 5px rgba(255,255,255,0.2); } to { box-shadow: 0 0 15px var(--accent); } }

.exp-event-area { 
    background: rgba(0,0,0,0.3); border: 1.5px dashed var(--accent); 
    border-radius: 18px; padding: 12px; margin-top: 12px; display: none;
}

.exp-result-inline {
    padding: 15px; background: rgba(76, 175, 80, 0.1); border: 2px solid var(--xp-bar); border-radius: 18px; display: none;
}

.exp-synergy-tag {
    font-size: 9px;
    background: var(--accent);
    color: var(--main-blue);
    padding: 2px 6px;
    border-radius: 5px;
    font-weight: 900;
    margin-top: 5px;
}

.hive-stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: rgba(255,255,255,0.05);
    border-radius: 15px;
    margin-bottom: 8px;
    border: 1px solid rgba(255,255,255,0.08);
}
.hive-stat-label { font-size: 13px; font-weight: 700; color: inherit; display: flex; align-items: center; gap: 8px; }
.hive-stat-val { font-size: 14px; font-weight: 900; color: var(--accent); }
.hive-bonus-badge {
    padding: 2px 8px;
    background: var(--xp-bar);
    color: white;
    font-size: 10px;
    border-radius: 6px;
    font-weight: 900;
}

/* TREE CSS */
.talent-card {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 18px;
    padding: 12px;
    margin-bottom: 12px;
    text-align: left;
    display: flex;
    align-items: center;
    gap: 12px;
}
.talent-icon {
    width: 45px; height: 45px;
    background: var(--card);
    border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 22px;
}
.talent-info { flex: 1; }
.talent-name { font-weight: 900; font-size: 13px; color: inherit; }
.talent-desc { font-size: 10px; opacity: 0.6; }
.talent-points { font-size: 11px; font-weight: 800; color: var(--accent); }
.talent-btn {
    width: 36px; height: 36px; padding: 0; margin: 0;
    border-radius: 50%; font-size: 18px;
}

/* MODULAR HIVE CSS */
.modular-hive-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    margin-bottom: 20px;
    line-height: 0;
}
.hive-module {
    width: 100%;
    max-width: 250px;
    display: block;
    margin: 0;
    padding: 0;
    margin-top: -1px;
    transition: all 0.5s ease-in-out;
    filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
}
.hive-module-hidden {
    display: none;
}

/* VELHO DUDU CSS */
.dudu-card {
    background: rgba(0,0,0,0.3);
    border: 2px dashed var(--accent);
    border-radius: 20px;
    padding: 15px;
    margin-top: 20px;
    text-align: center;
}
.dudu-portrait {
    font-size: 50px;
    margin-bottom: 5px;
}
.dudu-bubble {
    background: white;
    color: #333;
    padding: 8px 12px;
    border-radius: 15px;
    font-size: 11px;
    font-weight: 800;
    position: relative;
    margin-bottom: 15px;
    display: inline-block;
}
.dudu-bubble::after {
    content: '';
    position: absolute;
    bottom: -8px; left: 50%;
    transform: translateX(-50%);
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-top: 8px solid white;
}
